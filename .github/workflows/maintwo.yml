name: CI
on:

  push: 
    branches: [  master ]
  pull_request:
    branches: [ master ]


   
jobs:
  lint:
     
     runs-on: ubuntu-latest
     steps:
          - name: Checkout the code
            uses: actions/checkout@v4

          - name: Set up JDK 11
            uses: actions/setup-java@v2
            with:
               distribution: 'zulu' 
               java-version: '11'

          - name: Grant execute permission for gradlew
            run: chmod +x ./gradlew

          - name: Run lint
            run: ./gradlew lintDebug
         
          - name: Upload html test report
            uses: actions/upload-artifact@v4
            with:
               name: index.html
               path: app/build/reports/lint-results-debug.html
